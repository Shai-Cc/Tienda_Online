{% extends "base.html" %}
{% block title %}Catálogo | Tienda Online{% endblock %}

{% block content %}
<h1 class="text-center mb-4">Catálogo</h1>

<form action="" method="get" class="row g-2 mb-4">
    <!-- (tu form tal cual) -->
</form>

<div class="row justify-content-center">
    {% for producto in productos %}
    <div class="col-12 col-md-4 mb-3">
        <div class="card h-100 shadow-sm">
            {% if producto.imagen1 %}
            <img src="{{ producto.imagen1.url }}" class="card-img-top" style="height:200px;object-fit:cover;"
                alt="{{ producto.nombre }}">
            {% endif %}
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ producto.nombre }}</h5>
                <p class="text-muted mb-1">{{ producto.categoria.nombre }}</p>
                <p class="fw-bold mb-3">${{ producto.precio_base }}</p>

                <a href="{% url 'detalle_producto' producto.slug %}" class="btn btn-primary mt-auto">
                    Ver producto
                </a>
            </div>
        </div>
    </div>
    {% empty %}
    <p class="text-center">No hay productos que coincidan con los criterios de búsqueda.</p>
    {% endfor %}
</div>
{% endblock %}